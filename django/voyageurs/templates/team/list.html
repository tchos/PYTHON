{% extends "base.html" %}
{% load static %}
{% block title %}Liste des équipes{% endblock %}

{% block css %}
    <link rel="stylesheet" href="{% static 'css/datatables.min.css' %}"/>
{% endblock %}

{% block content %}
    <div class="container mt-4">
        <div class="row me-4">
            <div class="col-10">
                <h4><i class="fa fa-user-plus" aria-hidden="true"></i> Liste des équipes</h4>
            </div>
            <div class="col-2">
                <a href="{% url 'accounts:add_team' %}" class="btn btn-sm btn-outline-primary fw-bolder float-end">AJOUTER UNE EQUIPE</a>
            </div>
            <div class="float-end">
                <span class="badge bg-dark text-white fw-bolder">TOTAL DES SAISIES: {{ total }}</span>
                <span class="badge bg-primary text-white fw-bolder">COMPTEUR TOTAL: {{ saisies_total }}</span>
                <span class="badge bg-success text-white fw-bolder">COMPTEUR DU JOUR: {{ saisies_jour }}</span>
            </div>
        </div>
        <hr class="mb-5">
        <div class="row">
            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                {% include "include/alert.html" %}
            </div>
        </div>
        <div class="row mt-5 me-4">
            <table id="teams" class="table table-striped table-bordered" style="width:100%">
                <thead>
                    <tr>
                        <th class="text-center">N°</th>
                        <th class="text-center">LIBELLE</th>
                        <th class="text-center">CHEF D'EQUIPE</th>
                        <th class="text-center">ACTION</th>
                    </tr>
                </thead>
                <tbody>
                    {% for team in teams %}
                        <tr>
                            <td class="text-center">{{ forloop.counter }}</td>
                            <td>{{ team.libelle }}</td>
                            <td>{{ team.chef }}</td>
                            <td class="text-center">
                                <a title="Modifier les informations sur {{ team.libelle }}" href="{% url "accounts:edit_team" team.pk %}">
                                    <i class="fas fa-edit text-success"></i><span class="ms-4"></span>
                                </a>
                                <a title="Supprimer les informations sur {{ team.libelle }}" href="#">
                                    <i class="fas fa-delete-left text-success"></i><span class="ms-4"></span>
                                </a>
                            </td>
                        </tr>
                    {% endfor %}
                </tbody>
                <tfoot>
                    <tr>
                        <th class="text-center">N°</th>
                        <th class="text-center">LIBELLE</th>
                        <th class="text-center">CHEF D'EQUIPE</th>
                        <th class="text-center">ACTION</th>
                    </tr>
                </tfoot>
            </table>
        </div>
    </div>
{% endblock %}

{% block js %}
    <script src="{% static 'js/datatables.min.js' %}"></script>
    <script>
        $(document).ready(function(){
            new DataTable('#teams');
        });
    </script>
{% endblock %}